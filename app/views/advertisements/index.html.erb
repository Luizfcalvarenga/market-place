<div class="container advertisements mb-5">
  <h1 class="my-3 text-center text-success">Anuncios</h1>
  <div class="d-flex flex-wrap justify-content-between">
    <% @advertisements.each do | advertisement | %>
      <div class="cards-index-advertisements  gap-2">
        <div class="card-body">
          <div class="d-flex justify-content-between">
            <div>
              <h6><span class="text-success">Anúncio</span> #<%= advertisement.id %></h6>
              <h6><span class="text-success">Total:</span> <%=number_to_currency(advertisement.price_in_cents / 100, unit: "R$", separator: ",", delimiter: ".")%> </h6>
              <h6><span class="text-success">Criado em</span> <%= advertisement.created_at.strftime("%d/%m/%Y")  %></h6>
              <h6><span class="text-success">Status:</span> <%= advertisement.status %> </h6>
            </div>

            <% if !advertisement.is_free? || advertisement.invoice_paid_at.pblank?%>
              <div>
                <a href="<%= advertisement.invoice_url %>" target="_blank" class="btn-invoice">Ver invoice</a>
              </div>
            <% end %>
          </div>
            <div class="d-flex justify-content-between">
              <% if advertisement.invoice_paid_at.present? %>
                <p><span class="topic-cards-index-media text-success"><i class="fas fa-handshake mt-1 me-2"></i>Pago em: </span> <%= advertisement.invoice_paid_at.strftime("%d/%m/%Y") %> </p>
              <% else%>
                <p><span class="topic-cards-index-media text-danger"><i class="fas fa-credit-card mt-1 me-2"></i>Aguardando pagamento</p>
              <% end %>
              <% if advertisement.status === "waiting_review" %>
                <p><span class="topic-cards-index-media text-primary"><i class="fas fa-clock mt-1 me-2"></i>Aguardando revisão</p>
              <% elsif  advertisement.status === "approved" %>
                <p><span class="topic-cards-index-media text-success"><i class="fas fa-check mt-1 me-2"></i>Publicado</p>
              <% elsif  advertisement.status === "update_request" %>
                <p><span class="topic-cards-index-media text-warning"><i class="fas fa-clock mt-1 me-2"></i>Necessita update</p>
              <% end %>
            </div>
          <hr class="index-line">
          <% if advertisement.advertisable_type == "Product" %>
            <div class="d-flex justify-content-between">
              <p><span class="text-success">Produto </span> #<%= advertisement.advertisable.id %> </p>
              <p><span class="text-success">Preço:</span> <%= number_to_currency(advertisement.advertisable.price_in_cents / 100, unit: "R$", separator: ",", delimiter: ".")  %></p>
              <p><span class="text-success">Quantidade:</span> <%=advertisement.advertisable.quantity  %></p>
            </div>
          <% elsif advertisement.advertisable_type == "Bike" %>
            <div class="d-flex justify-content-between">
              <p><span class="text-success">Bike </span>#<%= advertisement.advertisable.id %> </p>
              <p><span class="text-success">Preço:</span> <%= number_to_currency(advertisement.advertisable.price_in_cents / 100, unit: "R$", separator: ",", delimiter: ".")  %></p>
              <p><span class="text-success">Quantidade:</span> <%=advertisement.advertisable.quantity  %></p>
            </div>
          <% end%>
        </div>
      </div>

    <% end %>
  </div>
</div>
