<div class="page-padding px-5">
  <p class="info-text w-100 p-4 br-8 text-center text-uppercase fw-700 mb-5">Revisão do pedido #<%= @advertisement.id %></p>

  <form action="/admin/advertisements/<%= @advertisement.id %>/adjustment_requests" method="post" id="order-review-form" data-order-id="<%= @advertisement.id %>">
    <div class="table m-0">
      <div class="table-row header blue">
        <div class="cell">
          Detalhes do pedido
        </div>
      </div>
    </div>

    <div class="table">
      <div class="table-row">
        <div class="cell">Status</div>
        <div class="cell"><p class="m-0 px-3 py-1 br-4 text-center text-white <%= @advertisement.status%>"><%= @advertisement.status %></p></div>
      </div>
      <div class="table-row">
        <div class="cell">Status do pagamento</div>
        <div class="cell"><p class="m-0 px-3 py-1 br-4 text-center text-white "><%= @advertisement.invoice_status %></p></div>
      </div>
      <div class="table-row">
        <div class="cell">Data de criação</div>
        <div class="cell"><%= @advertisement.created_at.strftime("%d/%m/%Y - %H:%M") %></div>
      </div>
      <div class="table-row">
        <div class="cell">Usuário</div>
        <div class="cell"><%= @user.full_name %> || <%= @user.email %></div>
      </div>
      <div class="table-row">
        <div class="cell">O que foi anunciado</div>
        <div class="cell"><%= @product_type %></div>
      </div>
    </div>


    <% if @advertisement.invoice_url.present? %>
      <%= link_to @advertisement.invoice_url, target: :_blank do %>
        <p class="m-0 btn btn-primary w-100 text-white my-3">Ver fatura</p>
      <% end %>
    <% else %>
      <p class="m-0 btn btn-primary disabled w-100 text-white mt-3">Fatura ainda não gerada</p>
    <% end %>




    <div class="spacer-30"></div>

    <p class="info-text w-100 p-4 br-8 text-center fw-700 mb-3"><i class="fa fa-info-circle fs-20 me-3"></i> O endereço retornado para o CEP inserido é: <span id="order-cep-return"></span></p>

    <div class="table m-0">
      <div class="table-row header blue">
        <div class="cell">
          Informações do pedido

        </div>
        <% if @advertisement.advertisable_type == "Product" %>
          <p><span className="text-success">Categoria:</span><%= @product.category.name %> </p>
          <p><span className="text-success">Modalidade:</span><%= @product.modality %> </p>
          <p><span className="text-success">Quantidade:</span><%= @product.quantity %></p>
          <p><span className="text-success">Local:</span><%= @product.locality %></p>
          <p><span className="text-success">Preço:</span> <%= number_to_currency(@product.price_in_cents.to_f/100, unit: "R$", separator: ",", delimiter: ".") %></p>
          <p><span className="text-success">Ano:</span> <%= @product.year %></p>
          <p><span className="text-success">Marca:</span><%= @product.brand %></p>
          <p><span className="text-success">Modelo:</span><%= @product.model %></p>
          <p><span className="text-success">Descrição:</span><%= @product.description %></p>

        <% elsif @advertisement.advertisable_type == "Bike" %>

          <p><span className="text-success">Categoria:</span><%= @product.category.name %> </p>
          <p><span className="text-success">Modalidade:</span><%= @product.modality %> </p>
          <p><span className="text-success">Quantidade:</span><%= @product.quantity %></p>
          <p><span className="text-success">Local:</span><%= @product.locality %></p>
          <p><span className="text-success">Preço:</span> <%= number_to_currency(@product.price_in_cents.to_f/100, unit: "R$", separator: ",", delimiter: ".") %></p>
          <p><span className="text-success">Ano:</span> <%= @product.year %></p>
          <p><span className="text-success">Marca:</span><%= @product.frame_brand %></p>
          <p><span className="text-success">Modelo:</span><%= @product.model %></p>
          <p><span className="text-success">Tipo:</span><%= @product.bike_type %></p>
          <p><span className="text-success">Descrição:</span><%= @product.description %></p>

          <h5>Quadro</h5>
          <p><span className="text-success">Tamanho:</span><%= @product.frame_size %> </p>
          <p><span className="text-success">Marca:</span><%= @product.frame_brand %> </p>
          <p><span className="text-success">Material:</span><%= @product.frame_material %></p>

          <h5>Transmissão</h5>
          <p><span className="text-success">Pedivela:</span><%= @product.crankset %></p>
          <p><span className="text-success">Corrente:</span><%= @product.chain %></p>
          <p>Dianteira</p>
          <p><span className="text-success">Marchas:</span><%= @product.number_of_front_gears %> </p>
          <p><span className="text-success">Marca | Modelo:</span><%= @product.front_derailleur_model %> </p>
          <p>Traseira</p>
          <p><span className="text-success">Marchas:</span><%= @product.number_of_rear_gears %> </p>
          <p><span className="text-success">Marca | Modelo:</span><%= @product.rear_derailleur_model %> </p>

          <h5>Suspensão</h5>
          <p><span className="text-success">Tipo:</span><%= @product.suspension_type %></p>
          <p>Dianteira</p>
          <p><span className="text-success">Curso:</span><%= @product.front_suspension_travel %> </p>
          <p><span className="text-success">Marca | Modelo:</span><%= @product.front_suspension_model %> </p>
          <p>Traseira</p>
          <p><span className="text-success">Curso:</span><%= @product.rear_suspension_travel %> </p>
          <p><span className="text-success">Marca | Modelo:</span><%= @product.rear_suspension_model %> </p>


          <h5>Rodas</h5>
          <p><span className="text-success">Tamanho:</span><%= @product.rim_size %></p>
          <p>Dianteira</p>
          <p><span className="text-success">Aro:</span><%= @product.front_rim_model %> </p>
          <p><span className="text-success">Cubo:</span><%= @product.front_hub %> </p>
          <p><span className="text-success">Pneu:</span><%= @product.front_tyre %> </p>
          <p>Traseira</p>
          <p><span className="text-success">Aro:</span><%= @product.rear_rim_model %> </p>
          <p><span className="text-success">Cubo:</span><%= @product.rear_hub %> </p>
          <p><span className="text-success">Pneu:</span><%= @product.rear_tyre %> </p>

          <h5>Canote</h5>
          <p><span className="text-success">Tipo:</span><%= @product.seat_post_type %></p>
          <p><span className="text-success">Curso:</span><%= @product.seat_post_travel %></p>
          <p><span className="text-success">Marca | Modelo:</span><%= @product.seat_post_model %></p>

          <h5>Cockpit</h5>
          <p><span className="text-success">Guidão:</span><%= @product.handlebar %></p>
          <p><span className="text-success">Mesa:</span><%= @product.stem %></p>

          <h5>Acessórios</h5>
          <p><span className="text-success">Acompanha:</span><%= @product.accessories %> </p>
          <p><span className="text-success">Descrição:</span><%= @product.accessories_description %> </p>

          <% if @product.bike_type == "e-bike" %>


            <h5>Elétrica</h5>
            <p><span className="text-success">Bateria:</span><%= @product.rear_rim_model %> </p>
            <p><span className="text-success">Ciclos:</span><%= @product.rear_hub %> </p>
            <p><span className="text-success">Km:</span><%= @product.rear_tyre %> </p>
            <p><span className="text-success">Motor:</span><%= @product.frame_size %> </p>
          <% end %>


        <% end %>
      </div>
    </div>

    <% if @advertisement.waiting_review?  %>
      <div class="action-buttons flex center between mt-5">
        <div class="w-100">
          <%= link_to admin_advertisement_approve_path(@advertisement.id), method: :patch, data: { confirm: "Tem certeza que quer aprovar o pedido?" } do %>
            <p class="m-0 btn btn-success w-100 text-white">Aprovar pedido</p>
          <% end %>
        </div>
      </div>
    <% end %>

    <div class="row">
      <div class="col-md-6">
        <%= link_to admin_advertisement_reject_path(@advertisement.id), method: :patch, data: { confirm: "Tem certeza que quer bloquear o pedido para sempre?" } do %>
          <p class="m-0 mt-3 btn btn-danger w-100 text-white">Bloquear pedido</p>
        <% end %>
      </div>
    </div>
  </form>
</div>
